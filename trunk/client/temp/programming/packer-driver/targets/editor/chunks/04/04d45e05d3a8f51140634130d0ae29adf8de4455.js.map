{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/assets/scripts/tongame/pullingcarrots/CarrotRankCellComponent.ts"],"names":["_decorator","Label","Sprite","IVirtualGridListItem","UtilMgr","ccclass","property","CarrotRankCellComponent","onSelect","console","log","itemIndex","updateSelectionStatus","onUnselect","onDataChanged","data","RankNum","string","rank","toString","RoleName","rolename","RoleValue","weight","ShowUserHead","userid","HeadIcon","FirstRankIcon","node","active","SecondRankIcon","ThirdRankIcon","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,M,OAAAA,M;;AACnBC,MAAAA,oB,iBAAAA,oB;;AACCC,MAAAA,O,iBAAAA,O;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yCAGjBO,uB,WADZF,OAAO,CAAC,yBAAD,C,UAEHC,QAAQ,CAACL,KAAD,C,UAERK,QAAQ,CAACL,KAAD,C,UAERK,QAAQ,CAACL,KAAD,C,UAGRK,QAAQ,CAACJ,MAAD,C,UAGRI,QAAQ,CAACJ,MAAD,C,UAERI,QAAQ,CAACJ,MAAD,C,UAERI,QAAQ,CAACJ,MAAD,C,2BAhBb,MACaK,uBADb;AAAA;AAAA,wDACkE;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAkB7D;AACL;AACA;AACKC,QAAAA,QAAQ,GAAG;AACRC,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAa,KAAKC,SAA9B;AAEA,eAAKC,qBAAL;AACH;;AAEDC,QAAAA,UAAU,GAAG;AACTJ,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,KAAKC,SAAhC;AAEA,eAAKC,qBAAL;AACH;;AAEDE,QAAAA,aAAa,GAAG;AACZ,gBAAMC,IAAI,GAAG,KAAKA,IAAlB;AACA,eAAKC,OAAL,CAAaC,MAAb,GAAsBF,IAAI,CAACG,IAAL,CAAUC,QAAV,EAAtB;AACA,eAAKC,QAAL,CAAcH,MAAd,GAAuBF,IAAI,CAACM,QAA5B;AACA,eAAKC,SAAL,CAAeL,MAAf,GAAwBF,IAAI,CAACQ,MAAL,CAAYJ,QAAZ,KAAuB,IAA/C;AAEA;AAAA;AAAA,kCAAQK,YAAR,CAAqB,KAAKT,IAAL,CAAUU,MAA/B,EAAuC,KAAKC,QAA5C;AAEA,eAAKC,aAAL,CAAmBC,IAAnB,CAAwBC,MAAxB,GAAkCd,IAAI,CAACG,IAAL,IAAa,CAA/C;AACA,eAAKY,cAAL,CAAoBF,IAApB,CAAyBC,MAAzB,GAAmCd,IAAI,CAACG,IAAL,IAAa,CAAhD;AACA,eAAKa,aAAL,CAAmBH,IAAnB,CAAwBC,MAAxB,GAAkCd,IAAI,CAACG,IAAL,IAAa,CAA/C;AAEA,eAAKN,qBAAL;AACH;;AAEDA,QAAAA,qBAAqB,GAAG;AACpB;AACR;AACA;AACA;AACA;AACA;AACA;AACK;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEIoB,QAAAA,SAAS,GAAG;AACR,gBAAMA,SAAN;AACH;;AArE6D,O","sourcesContent":["import {_decorator, Label, Sprite} from 'cc';\r\nimport {IVirtualGridListItem} from \"../../../resources/libs/virtual_grid_list/interface\";\r\nimport { UtilMgr } from '../manager/UtilManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CarrotRankCellComponent')\r\nexport class CarrotRankCellComponent extends IVirtualGridListItem {\r\n    @property(Label)\r\n    RankNum: Label;\r\n    @property(Label)\r\n    RoleName: Label;\r\n    @property(Label)\r\n    RoleValue: Label;\r\n\r\n    @property(Sprite)\r\n    HeadIcon: Sprite;\r\n\r\n    @property(Sprite)\r\n    FirstRankIcon: Sprite;\r\n    @property(Sprite)\r\n    SecondRankIcon: Sprite;\r\n    @property(Sprite)\r\n    ThirdRankIcon: Sprite;\r\n\r\n     /**\r\n     * 点击触发选择事件\r\n     */\r\n     onSelect() {\r\n        console.log('select _' + this.itemIndex);\r\n\r\n        this.updateSelectionStatus();\r\n    }\r\n\r\n    onUnselect() {\r\n        console.log('unselect _' + this.itemIndex);\r\n\r\n        this.updateSelectionStatus();\r\n    }\r\n\r\n    onDataChanged() {\r\n        const data = this.data;\r\n        this.RankNum.string = data.rank.toString();\r\n        this.RoleName.string = data.rolename;\r\n        this.RoleValue.string = data.weight.toString()+\"kg\";\r\n\r\n        UtilMgr.ShowUserHead(this.data.userid, this.HeadIcon);\r\n\r\n        this.FirstRankIcon.node.active = (data.rank == 1)\r\n        this.SecondRankIcon.node.active = (data.rank == 2)\r\n        this.ThirdRankIcon.node.active = (data.rank == 3)\r\n\r\n        this.updateSelectionStatus();\r\n    }\r\n\r\n    updateSelectionStatus() {\r\n        /*\r\n        if (true === this.data.select) {\r\n            //this.node.getComponent(Sprite).color = math.color(52, 217, 235);\r\n        } else {\r\n            //this.node.getComponent(Sprite).color = math.color(255, 255, 255);\r\n        }\r\n            */\r\n    }\r\n\r\n    /*\r\n    _showImg(spriteFrame: SpriteFrame, uri: string) {\r\n        if (this.data && spriteFrame && uri.replace('_gray', '') == this.data.pic) {\r\n            this.imgItem.getComponent(Sprite).spriteFrame = spriteFrame;\r\n            // this.imgItem.node.getComponent(Sprite).color.a = 255;\r\n        }\r\n    }\r\n        */\r\n\r\n    onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n}\r\n\r\n\r\n"]}