{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/assets/scripts/framework/ui/ButtonScaleEffect.ts"],"names":["_decorator","Component","Node","tween","Vec3","ccclass","property","ButtonScaleEffect","start","buttonNode","on","EventType","TOUCH_START","onButtonPress","TOUCH_END","onButtonRelease","TOUCH_CANCEL","to","duration","scale","pressScale"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;;;;;;;;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;mCAGjBO,iB,WADZF,OAAO,CAAC,mBAAD,C,UAGHC,QAAQ,CAACJ,IAAD,C,2BAHb,MACaK,iBADb,SACuCN,SADvC,CACiD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAW7CO,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKC,UAAL,CAAgBC,EAAhB,CAAmBR,IAAI,CAACS,SAAL,CAAeC,WAAlC,EAA+C,KAAKC,aAApD,EAAmE,IAAnE,EAFI,CAIJ;;AACA,eAAKJ,UAAL,CAAgBC,EAAhB,CAAmBR,IAAI,CAACS,SAAL,CAAeG,SAAlC,EAA6C,KAAKC,eAAlD,EAAmE,IAAnE;AACA,eAAKN,UAAL,CAAgBC,EAAhB,CAAmBR,IAAI,CAACS,SAAL,CAAeK,YAAlC,EAAgD,KAAKD,eAArD,EAAsE,IAAtE,EANI,CAMyE;AAChF,SAlB4C,CAoB7C;;;AACQF,QAAAA,aAAa,GAAG;AACpBV,UAAAA,KAAK,CAAC,KAAKM,UAAN,CAAL,CACKQ,EADL,CACQ,KAAKC,QADb,EACuB;AAAEC,YAAAA,KAAK,EAAE,IAAIf,IAAJ,CAAS,KAAKgB,UAAd,EAA0B,KAAKA,UAA/B,EAA2C,CAA3C;AAAT,WADvB,EAEKZ,KAFL;AAGH,SAzB4C,CA2B7C;;;AACQO,QAAAA,eAAe,GAAG;AACtBZ,UAAAA,KAAK,CAAC,KAAKM,UAAN,CAAL,CACKQ,EADL,CACQ,KAAKC,QADb,EACuB;AAAEC,YAAAA,KAAK,EAAE,IAAIf,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf;AAAT,WADvB,EAEKI,KAFL;AAGH;;AAhC4C,O;;;;;iBAG1B,I;;qFAElBF,Q;;;;;iBACqB,G;;mFAErBA,Q;;;;;iBACmB,G","sourcesContent":["import { _decorator, Component, Node, tween, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ButtonScaleEffect')\r\nexport class ButtonScaleEffect extends Component {\r\n\r\n    @property(Node)\r\n    buttonNode: Node = null!;\r\n\r\n    @property\r\n    pressScale : number = 0.8;\r\n\r\n    @property\r\n    duration : number = 0.1;\r\n\r\n    start() {\r\n        // 监听按钮按下\r\n        this.buttonNode.on(Node.EventType.TOUCH_START, this.onButtonPress, this);\r\n        \r\n        // 监听按钮松开\r\n        this.buttonNode.on(Node.EventType.TOUCH_END, this.onButtonRelease, this);\r\n        this.buttonNode.on(Node.EventType.TOUCH_CANCEL, this.onButtonRelease, this); // 处理触摸取消的情况\r\n    }\r\n\r\n    // 按下时放大\r\n    private onButtonPress() {\r\n        tween(this.buttonNode)\r\n            .to(this.duration, { scale: new Vec3(this.pressScale, this.pressScale, 1) })\r\n            .start();\r\n    }\r\n\r\n    // 松开时恢复原始大小\r\n    private onButtonRelease() {\r\n        tween(this.buttonNode)\r\n            .to(this.duration, { scale: new Vec3(1, 1, 1) })\r\n            .start();\r\n    }\r\n}\r\n"]}