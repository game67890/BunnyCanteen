{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/assets/scripts/tongame/ton/TonWalletViewComponent.ts"],"names":["_decorator","Component","Node","TelegramWebApp","ccclass","property","WalletView","backgroundOpacity","panelUITransform","gameUrl","onLoad","onDestroy","show","node","active","hide","metamaskConnect","openLink","bitgetConnect","okxConnect","encodeURIComponent","url","Instance","openTelegramLink","window","open"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AACvBC,MAAAA,c,iBAAAA,c;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;4BAGjBM,U,WADZF,OAAO,CAAC,YAAD,C,UAGHC,QAAQ,CAACH,IAAD,C,UAGRG,QAAQ,CAACH,IAAD,C,2BANb,MACaI,UADb,SACgCL,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAQ9BM,iBAR8B,GAQC,IARD;AAAA,eAS9BC,gBAT8B,GASE,IATF;AAAA,eAU9BC,OAV8B,GAUpB,uBAVoB;AAAA;;AAY5BC,QAAAA,MAAM,GAAS,CAErB;AACA;AACH;;AAESC,QAAAA,SAAS,GAAS,CACxB;AACA;AACH;;AAEMC,QAAAA,IAAI,GAAG;AACV,eAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACH;;AAEMC,QAAAA,IAAI,GAAG;AACV,eAAKF,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;;AAEME,QAAAA,eAAe,GAAG;AACrB,eAAKC,QAAL,CAAc,oCAAoC,KAAKR,OAAvD;AACH;;AAEMS,QAAAA,aAAa,GAAG;AACnB,eAAKD,QAAL,CAAc,yCAAyC,KAAKR,OAA5D;AACH;;AAEMU,QAAAA,UAAU,GAAG;AAChB,eAAKF,QAAL,CAAc,yEAAyEG,kBAAkB,CAAC,KAAKX,OAAN,CAAzG;AACH;;AAEMQ,QAAAA,QAAQ,CAACI,GAAD,EAAc;AACzB,cAAI;AAAA;AAAA,gDAAeC,QAAnB,EAA6B;AACzB;AAAA;AAAA,kDAAeA,QAAf,CAAwBC,gBAAxB,CAAyCF,GAAzC;AACH,WAFD,MAEO;AACHG,YAAAA,MAAM,CAACC,IAAP,CAAYJ,GAAZ,EAAiB,QAAjB;AACH;AACJ;;AAjDqC,O;;;;;iBAGnB,I;;;;;;;iBAGL,I","sourcesContent":["import { _decorator, Component, Node, UIOpacity, tween, Vec2, UITransform, v3, View, ScrollView } from 'cc';\nimport { TelegramWebApp } from '../../cocos-telegram-miniapps/scripts/telegram-web';\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('WalletView')\nexport class WalletView extends Component {\n\n    @property(Node)\n    background: Node = null;\n\n    @property(Node)\n    panel: Node = null;\n\n    private backgroundOpacity: UIOpacity = null;\n    private panelUITransform: UITransform = null;\n    private gameUrl = \"http://127.0.0.1:8888\";\n\n    protected onLoad(): void {\n\n        //globalEvent.on(GameEvents.WALLET_SHOW, this.show, this);\n        //globalEvent.on(GameEvents.WALLET_HIDE, this.hide, this);\n    }\n\n    protected onDestroy(): void {\n        //globalEvent.off(GameEvents.WALLET_SHOW, this.show);\n        //globalEvent.off(GameEvents.WALLET_HIDE, this.hide);\n    }\n\n    public show() {\n        this.node.active = true;\n    }\n\n    public hide() {\n        this.node.active = false;\n    }\n\n    public metamaskConnect() {\n        this.openLink(\"https://metamask.app.link/dapp/\" + this.gameUrl)\n    }\n\n    public bitgetConnect() {\n        this.openLink(\"https://bkcode.vip/?action=dapp&url=\" + this.gameUrl)\n    }\n\n    public okxConnect() {\n        this.openLink(\"https://www.okx.com/download?deeplink=okx://wallet/dapp/url?dappUrl=\" + encodeURIComponent(this.gameUrl))\n    }\n\n    public openLink(url: string) {\n        if (TelegramWebApp.Instance) {\n            TelegramWebApp.Instance.openTelegramLink(url);\n        } else {\n            window.open(url, \"_blank\");\n        }\n    }\n}\n\n\n"]}