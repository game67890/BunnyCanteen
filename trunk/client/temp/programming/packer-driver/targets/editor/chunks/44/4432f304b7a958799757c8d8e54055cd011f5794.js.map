{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/assets/scripts/tongame/manager/ProtocolManager.ts"],"names":["ProtocolManager","oops","TonGameMgr","sendLogin","complete","param","url","http","server","addHeader","UserId","post","sendSave","ramdonToken","sendChargeShop","sendChargeBuy","sendopenluobopanel","sendcbaluobo","sendcrankpanel","sendcbuyrabbit","sendaddcarrotcion","sendcbuybuff","sendTaskPanel","sendFinishAchievement","sendUpdateMission","sendcbuydish","sendGetTgBotToken","postByArraybuffer","sendRankList","sendOpenInvite","sendAutocompose","getHeadImage","userId","getByArraybuffer","ProtocolMgr"],"mappings":"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","sourcesContent":["import { oops } from \"../../../../extensions/oops-plugin-framework/assets/core/Oops\";\r\nimport { TonGameMgr } from \"./TonGameManager\";\r\n\r\nexport class ProtocolManager {\r\n\r\n    public sendLogin(complete, param) {\r\n        let url = oops.http.server + \"login\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.UserId);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendSave(complete, param) {\r\n        let url = oops.http.server + \"save\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendChargeShop(complete, param) {\r\n        let url = oops.http.server + \"charge/shop\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendChargeBuy(complete, param) {\r\n        let url = oops.http.server + \"charge/buy\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendopenluobopanel(complete, param) {\r\n        let url = oops.http.server + \"baluobo/cpanel\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendcbaluobo(complete, param) {\r\n        let url = oops.http.server + \"baluobo/cbaluobo\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendcrankpanel(complete, param) {\r\n        let url = oops.http.server + \"baluobo/crankpanel\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendcbuyrabbit(complete, param) {\r\n        let url = oops.http.server + \"rabbitmall/cbuy\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendaddcarrotcion(complete, param) {\r\n        let url = oops.http.server + \"gm/carrotcoin\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendcbuybuff(complete, param) {\r\n        let url = oops.http.server + \"buybuff/cbuy\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendTaskPanel(complete, param) {\r\n        let url = oops.http.server + \"mission/panel\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendFinishAchievement(complete, param) {\r\n        let url = oops.http.server + \"mission/finishAchievement\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendUpdateMission(complete, param) {\r\n        let url = oops.http.server + \"mission/updateMission\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendcbuydish(complete, param) {\r\n        let url = oops.http.server + \"weishi/cweishi\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendGetTgBotToken(complete, param) {\r\n        let url = oops.http.server + \"getTgBotToken\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.postByArraybuffer(url, complete, param);\r\n    }\r\n\r\n    public sendRankList(complete, param) {\r\n        let url = oops.http.server + \"paihang/cranklist\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendOpenInvite(complete, param) {\r\n        let url = oops.http.server + \"invite/panel\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public sendAutocompose(complete, param) {\r\n        let url = oops.http.server + \"func/autocompose\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.post(url, complete, param);\r\n    }\r\n\r\n    public getHeadImage(complete, userId) {\r\n        let url = oops.http.server + \"getheadimg/\"+ userId + \".jpg\";\r\n        oops.http.addHeader(\"Authorization\", TonGameMgr.ramdonToken);\r\n        oops.http.getByArraybuffer(url, complete);\r\n    }\r\n}\r\n\r\nexport var ProtocolMgr = new ProtocolManager();"]}