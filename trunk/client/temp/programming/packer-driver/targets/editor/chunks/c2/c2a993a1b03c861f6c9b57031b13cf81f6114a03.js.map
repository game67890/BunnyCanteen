{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/assets/scripts/framework/common/prompt/CommonPromptTips.ts"],"names":["Component","_decorator","Label","oops","ccclass","property","CommonPromptTips","config","onAdded","params","setTitle","setContent","setBtnOkLabel","node","active","title","string","content","okWord","parent","needOk","onOk","okFunc","close","onClose","closeFunc","gui","removeByNode","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;;AACvBC,MAAAA,I,iBAAAA,I;;;;;;;;;OAIH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;AAE9B;;kCAEaK,gB,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACH,KAAD,C,UAGRG,QAAQ,CAACH,KAAD,C,UAGRG,QAAQ,CAACH,KAAD,C,2BARb,MACaI,gBADb,SACsCN,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAUpCO,MAVoC,GAUtB,EAVsB;AAAA;;AAY5C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,QAAAA,OAAO,CAACC,MAAD,EAAuB;AAC1B,eAAKF,MAAL,GAAcE,MAAM,IAAI,EAAxB;AACA,eAAKC,QAAL;AACA,eAAKC,UAAL;AACA,eAAKC,aAAL;AACA,eAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,iBAAO,IAAP;AACH;;AAEOJ,QAAAA,QAAQ,GAAG;AACf,eAAKK,KAAL,CAAWC,MAAX,GAAoB,KAAKT,MAAL,CAAYQ,KAAhC;AACH;;AAEOJ,QAAAA,UAAU,GAAG;AACjB,eAAKM,OAAL,CAAaD,MAAb,GAAsB,KAAKT,MAAL,CAAYU,OAAlC;AACH;;AAEOL,QAAAA,aAAa,GAAG;AACpB,eAAKM,MAAL,CAAYF,MAAZ,GAAqB,KAAKT,MAAL,CAAYW,MAAjC;AACA,eAAKA,MAAL,CAAYL,IAAZ,CAAiBM,MAAjB,CAAwBL,MAAxB,GAAiC,KAAKP,MAAL,CAAYa,MAAZ,IAAsB,KAAvD;AACH;;AAEOC,QAAAA,IAAI,GAAG;AACX,cAAI,OAAO,KAAKd,MAAL,CAAYe,MAAnB,IAA6B,UAAjC,EAA6C;AACzC,iBAAKf,MAAL,CAAYe,MAAZ;AACH;;AACD,eAAKC,KAAL;AACH;;AAEOC,QAAAA,OAAO,GAAG;AACd,cAAI,OAAO,KAAKjB,MAAL,CAAYkB,SAAnB,IAAgC,UAApC,EAAgD;AAC5C,iBAAKlB,MAAL,CAAYkB,SAAZ;AACH;;AACD,eAAKF,KAAL;AACH;;AAEOA,QAAAA,KAAK,GAAG;AACZ;AAAA;AAAA,4BAAKG,GAAL,CAASC,YAAT,CAAsB,KAAKd,IAA3B;AACH;;AAEDe,QAAAA,SAAS,GAAG;AACR,eAAKrB,MAAL,GAAc,IAAd;AACH;;AAlE2C,O;;;;;iBAE7B,I;;;;;;;iBAGE,I;;;;;;;iBAGD,I","sourcesContent":["import { Component, _decorator, Label } from \"cc\";\r\nimport { oops } from \"../../../../../extensions/oops-plugin-framework/assets/core/Oops\";\r\nimport { UIID } from \"../config/GameUIConfig\";\r\n\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n/** 公共提示窗口 */\r\n@ccclass(\"CommonPrompt\")\r\nexport class CommonPromptTips extends Component {\r\n    @property(Label)\r\n    title: Label = null;\r\n\r\n    @property(Label)\r\n    content: Label = null;\r\n\r\n    @property(Label)\r\n    okWord: Label = null;\r\n\r\n    private config: any = {};\r\n\r\n    /**\r\n     * \r\n     * \r\n     * @param params 参数 \r\n     * {\r\n     *     title:      标题\r\n     *     content:    内容\r\n     *     okWord:     ok按钮上的文字\r\n     *     okFunc:     确认时执行的方法\r\n     *     needOk:     是否显示OK按钮\r\n     * }\r\n     */\r\n    onAdded(params: any): boolean {\r\n        this.config = params || {};\r\n        this.setTitle();\r\n        this.setContent();\r\n        this.setBtnOkLabel();\r\n        this.node.active = true;\r\n        return true;\r\n    }\r\n\r\n    private setTitle() {\r\n        this.title.string = this.config.title;\r\n    }\r\n\r\n    private setContent() {\r\n        this.content.string = this.config.content;\r\n    }\r\n\r\n    private setBtnOkLabel() {\r\n        this.okWord.string = this.config.okWord;\r\n        this.okWord.node.parent.active = this.config.needOk || false\r\n    }\r\n\r\n    private onOk() {\r\n        if (typeof this.config.okFunc == \"function\") {\r\n            this.config.okFunc();\r\n        }\r\n        this.close();\r\n    }\r\n\r\n    private onClose() {\r\n        if (typeof this.config.closeFunc == \"function\") {\r\n            this.config.closeFunc();\r\n        }\r\n        this.close();\r\n    }\r\n\r\n    private close() {\r\n        oops.gui.removeByNode(this.node);\r\n    }\r\n\r\n    onDestroy() {\r\n        this.config = null;\r\n    }\r\n}"]}