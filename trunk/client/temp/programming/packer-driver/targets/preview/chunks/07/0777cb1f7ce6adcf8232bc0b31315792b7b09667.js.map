{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/assets/scripts/tongame/pullingcarrots/CarrotRankRewardCell.ts"],"names":["_decorator","Label","Sprite","IVirtualGridListItem","StringUtil","oops","ccclass","property","CarrotRankRewardCell","onSelect","console","log","itemIndex","onUnselect","onDataChanged","data","maxrank","RankTxt","node","active","string","minirank","FirstRankIcon","Number","SecondRankIcon","ThirdRankIcon","ShowTxt","substitute_1","language","getLangByID","showtxt","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,M,OAAAA,M;;AACnBC,MAAAA,oB,iBAAAA,oB;;AACCC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,I,iBAAAA,I;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;sCAGjBQ,oB,WADZF,OAAO,CAAC,sBAAD,C,UAEHC,QAAQ,CAACN,KAAD,C,UAERM,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACN,KAAD,C,2BAVb,MACaO,oBADb;AAAA;AAAA,wDAC+D;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAY3D;AACJ;AACA;AACIC,QAAAA,QAAQ,GAAG;AACPC,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAa,KAAKC,SAA9B;AACH;;AAEDC,QAAAA,UAAU,GAAG;AACTH,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,KAAKC,SAAhC;AACH;;AAEDE,QAAAA,aAAa,GAAG;AACZ,cAAMC,IAAI,GAAG,KAAKA,IAAlB;;AACA,cAAIA,IAAI,CAACC,OAAL,IAAgB,CAApB,EAAuB;AACnB,iBAAKC,OAAL,CAAaC,IAAb,CAAkBC,MAAlB,GAA2B,KAA3B;AACH,WAFD,MAGK;AACD,iBAAKF,OAAL,CAAaC,IAAb,CAAkBC,MAAlB,GAA2B,IAA3B;AACA,iBAAKF,OAAL,CAAaG,MAAb,GAAsBL,IAAI,CAACC,OAAL,GAAe,GAAf,GAAqBD,IAAI,CAACM,QAAhD;AACH;;AAED,eAAKC,aAAL,CAAmBJ,IAAnB,CAAwBC,MAAxB,GAAkCI,MAAM,CAACR,IAAI,CAACC,OAAN,CAAN,IAAwB,CAA1D;AACA,eAAKQ,cAAL,CAAoBN,IAApB,CAAyBC,MAAzB,GAAmCI,MAAM,CAACR,IAAI,CAACC,OAAN,CAAN,IAAwB,CAA3D;AACA,eAAKS,aAAL,CAAmBP,IAAnB,CAAwBC,MAAxB,GAAkCI,MAAM,CAACR,IAAI,CAACC,OAAN,CAAN,IAAwB,CAA1D;AAEA,eAAKU,OAAL,CAAaN,MAAb,GAAsB;AAAA;AAAA,wCAAWO,YAAX,CAAwB;AAAA;AAAA,4BAAKC,QAAL,CAAcC,WAAd,CAA0B,eAA1B,CAAxB,EAAoEd,IAAI,CAACe,OAAzE,CAAtB;AACH;;AAEDC,QAAAA,SAAS,GAAG;AACR,gBAAMA,SAAN;AACH;;AA1C0D,O","sourcesContent":["import {_decorator, Label, Sprite} from 'cc';\r\nimport {IVirtualGridListItem} from \"../../../resources/libs/virtual_grid_list/interface\";\r\nimport { StringUtil } from '../../../../extensions/oops-plugin-framework/assets/core/utils/StringUtil';\r\nimport { oops } from '../../../../extensions/oops-plugin-framework/assets/core/Oops';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CarrotRankRewardCell')\r\nexport class CarrotRankRewardCell extends IVirtualGridListItem {\r\n    @property(Label)\r\n    RankTxt: Label;\r\n    @property(Sprite)\r\n    FirstRankIcon: Sprite;\r\n    @property(Sprite)\r\n    SecondRankIcon: Sprite;\r\n    @property(Sprite)\r\n    ThirdRankIcon: Sprite;\r\n    @property(Label)\r\n    ShowTxt: Label;\r\n\r\n    /**\r\n     * 点击触发选择事件\r\n     */\r\n    onSelect() {\r\n        console.log('select _' + this.itemIndex);\r\n    }\r\n\r\n    onUnselect() {\r\n        console.log('unselect _' + this.itemIndex);\r\n    }\r\n\r\n    onDataChanged() {\r\n        const data = this.data;\r\n        if (data.maxrank <= 3) {\r\n            this.RankTxt.node.active = false;\r\n        }\r\n        else {\r\n            this.RankTxt.node.active = true;\r\n            this.RankTxt.string = data.maxrank + \"~\" + data.minirank;\r\n        }\r\n\r\n        this.FirstRankIcon.node.active = (Number(data.maxrank) == 1);\r\n        this.SecondRankIcon.node.active = (Number(data.maxrank) == 2);\r\n        this.ThirdRankIcon.node.active = (Number(data.maxrank) == 3);\r\n        \r\n        this.ShowTxt.string = StringUtil.substitute_1(oops.language.getLangByID(\"stringres_078\"), data.showtxt);\r\n    }\r\n\r\n    onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n}\r\n\r\n\r\n"]}