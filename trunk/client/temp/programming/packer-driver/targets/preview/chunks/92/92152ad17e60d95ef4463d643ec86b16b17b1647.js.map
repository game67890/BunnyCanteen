{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/extensions/oops-plugin-framework/assets/core/gui/prompt/CommonPrompt.ts"],"names":["Component","_decorator","LanguageLabel","oops","ccclass","property","CommonPrompt","config","onAdded","params","setTitle","setContent","setBtnOkLabel","setBtnCancelLabel","node","active","lab_title","dataID","title","lab_content","content","lab_ok","okWord","lab_cancel","cancelWord","parent","needCancel","onOk","okFunc","close","onClose","closeFunc","onCancel","cancelFunc","gui","removeByNode","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;;AACXC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,I,iBAAAA,I;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;AAE9B;;8BAEaK,Y,WADZF,OAAO,CAAC,cAAD,C,UAGHC,QAAQ;AAAA;AAAA,yC,UAIRA,QAAQ;AAAA;AAAA,yC,UAIRA,QAAQ;AAAA;AAAA,yC,UAIRA,QAAQ;AAAA;AAAA,yC,2BAfb,MACaC,YADb,SACkCN,SADlC,CAC4C;AAAA;AAAA;;AACxC;AADwC;;AAKxC;AALwC;;AASxC;AATwC;;AAaxC;AAbwC;;AAAA,eAiBhCO,MAjBgC,GAiBlB,EAjBkB;AAAA;;AAmBxC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,QAAAA,OAAO,CAACC,MAAD,EAAuB;AAC1B,eAAKF,MAAL,GAAcE,MAAM,IAAI,EAAxB;AACA,eAAKC,QAAL;AACA,eAAKC,UAAL;AACA,eAAKC,aAAL;AACA,eAAKC,iBAAL;AACA,eAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,iBAAO,IAAP;AACH;;AAEOL,QAAAA,QAAQ,GAAG;AACf,eAAKM,SAAL,CAAgBC,MAAhB,GAAyB,KAAKV,MAAL,CAAYW,KAArC;AACH;;AAEOP,QAAAA,UAAU,GAAG;AACjB,eAAKQ,WAAL,CAAkBF,MAAlB,GAA2B,KAAKV,MAAL,CAAYa,OAAvC;AACH;;AAEOR,QAAAA,aAAa,GAAG;AACpB,eAAKS,MAAL,CAAaJ,MAAb,GAAsB,KAAKV,MAAL,CAAYe,MAAlC;AACH;;AAEOT,QAAAA,iBAAiB,GAAG;AACxB,cAAI,KAAKU,UAAT,EAAqB;AACjB,iBAAKA,UAAL,CAAgBN,MAAhB,GAAyB,KAAKV,MAAL,CAAYiB,UAArC;AACA,iBAAKD,UAAL,CAAgBT,IAAhB,CAAqBW,MAArB,CAA6BV,MAA7B,GAAsC,KAAKR,MAAL,CAAYmB,UAAZ,IAA0B,KAAhE;AACH;AACJ;;AAEOC,QAAAA,IAAI,GAAG;AACX,cAAI,OAAO,KAAKpB,MAAL,CAAYqB,MAAnB,IAA6B,UAAjC,EAA6C;AACzC,iBAAKrB,MAAL,CAAYqB,MAAZ;AACH;;AACD,eAAKC,KAAL;AACH;;AAEOC,QAAAA,OAAO,GAAG;AACd,cAAI,OAAO,KAAKvB,MAAL,CAAYwB,SAAnB,IAAgC,UAApC,EAAgD;AAC5C,iBAAKxB,MAAL,CAAYwB,SAAZ;AACH;;AACD,eAAKF,KAAL;AACH;;AAEOG,QAAAA,QAAQ,GAAG;AACf,cAAI,OAAO,KAAKzB,MAAL,CAAY0B,UAAnB,IAAiC,UAArC,EAAiD;AAC7C,iBAAK1B,MAAL,CAAY0B,UAAZ;AACH;;AACD,eAAKJ,KAAL;AACH;;AAEOA,QAAAA,KAAK,GAAG;AACZ;AAAA;AAAA,4BAAKK,GAAL,CAASC,YAAT,CAAsB,KAAKrB,IAA3B;AACH;;AAEDsB,QAAAA,SAAS,GAAG;AACR,eAAK7B,MAAL,GAAc,IAAd;AACH;;AAzFuC,O;;;;;iBAGE,I;;;;;;;iBAIE,I;;;;;;;iBAIL,I;;;;;;;iBAII,I","sourcesContent":["import { Component, _decorator } from \"cc\";\r\nimport { LanguageLabel } from \"../../../libs/gui/language/LanguageLabel\";\r\nimport { oops } from \"../../Oops\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n/** 公共提示窗口 */\r\n@ccclass(\"CommonPrompt\")\r\nexport class CommonPrompt extends Component {\r\n    /** 窗口标题多语言组件 */\r\n    @property(LanguageLabel)\r\n    private lab_title: LanguageLabel | null = null;\r\n\r\n    /** 提示内容多语言组件 */\r\n    @property(LanguageLabel)\r\n    private lab_content: LanguageLabel | null = null;\r\n\r\n    /** 确认按钮文本多语言组件 */\r\n    @property(LanguageLabel)\r\n    private lab_ok: LanguageLabel | null = null\r\n\r\n    /** 取消按钮文本多语言组件 */\r\n    @property(LanguageLabel)\r\n    private lab_cancel: LanguageLabel | null = null;\r\n\r\n    private config: any = {};\r\n\r\n    /**\r\n     * \r\n     * \r\n     * @param params 参数 \r\n     * {\r\n     *     title:      标题\r\n     *     content:    内容\r\n     *     okWord:     ok按钮上的文字\r\n     *     okFunc:     确认时执行的方法\r\n     *     cancelWord: 取消按钮的文字\r\n     *     cancelFunc: 取消时执行的方法\r\n     *     needCancel: 是否需要取消按钮\r\n     * }\r\n     */\r\n    onAdded(params: any): boolean {\r\n        this.config = params || {};\r\n        this.setTitle();\r\n        this.setContent();\r\n        this.setBtnOkLabel();\r\n        this.setBtnCancelLabel();\r\n        this.node.active = true;\r\n        return true;\r\n    }\r\n\r\n    private setTitle() {\r\n        this.lab_title!.dataID = this.config.title;\r\n    }\r\n\r\n    private setContent() {\r\n        this.lab_content!.dataID = this.config.content;\r\n    }\r\n\r\n    private setBtnOkLabel() {\r\n        this.lab_ok!.dataID = this.config.okWord;\r\n    }\r\n\r\n    private setBtnCancelLabel() {\r\n        if (this.lab_cancel) {\r\n            this.lab_cancel.dataID = this.config.cancelWord;\r\n            this.lab_cancel.node.parent!.active = this.config.needCancel || false;\r\n        }\r\n    }\r\n\r\n    private onOk() {\r\n        if (typeof this.config.okFunc == \"function\") {\r\n            this.config.okFunc();\r\n        }\r\n        this.close();\r\n    }\r\n\r\n    private onClose() {\r\n        if (typeof this.config.closeFunc == \"function\") {\r\n            this.config.closeFunc();\r\n        }\r\n        this.close();\r\n    }\r\n\r\n    private onCancel() {\r\n        if (typeof this.config.cancelFunc == \"function\") {\r\n            this.config.cancelFunc();\r\n        }\r\n        this.close();\r\n    }\r\n\r\n    private close() {\r\n        oops.gui.removeByNode(this.node);\r\n    }\r\n\r\n    onDestroy() {\r\n        this.config = null;\r\n    }\r\n}"]}