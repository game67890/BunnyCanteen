{"version":3,"sources":["file:///F:/TON-Game/src/trunk/client/extensions/oops-plugin-framework/assets/module/config/GameConfig.ts"],"names":["GameConfig","oops","version","_data","package","frameRate","config","localDataKey","localDataIv","httpServer","httpTimeout","language","type","languagePathJson","path","json","languagePathTexture","texture","languageDefault","default","bundleEnable","bundle","enable","bundleServer","server","bundleName","name","bundleVersion","loadingTimeoutGui","data","constructor","Object","freeze","log","logConfig"],"mappings":";;;oCAUaA,U;;;;;;;;;;;;;;AAHJC,MAAAA,I,iBAAAA,I;;;;;;AAPT;AACA;AACA;AACA;AACA;AACA;;;AAIA;4BACaD,U,GAAN,MAAMA,UAAN,CAAiB;AACpB;AACW,YAAPE,OAAO,GAAW;AAClB,iBAAO,KAAKC,KAAL,CAAW,QAAX,EAAqB,SAArB,CAAP;AACH;AACD;;;AACW,YAAPC,OAAO,GAAW;AAClB,iBAAO,KAAKD,KAAL,CAAW,QAAX,EAAqB,SAArB,CAAP;AACH;AACD;;;AACa,YAATE,SAAS,GAAW;AACpB,iBAAO,KAAKF,KAAL,CAAWG,MAAX,CAAkBD,SAAzB;AACH;AACD;;;AACgB,YAAZE,YAAY,GAAW;AACvB,iBAAO,KAAKJ,KAAL,CAAWG,MAAX,CAAkBC,YAAzB;AACH;AACD;;;AACe,YAAXC,WAAW,GAAW;AACtB,iBAAO,KAAKL,KAAL,CAAWG,MAAX,CAAkBE,WAAzB;AACH;AACD;;;AACc,YAAVC,UAAU,GAAW;AACrB,iBAAO,KAAKN,KAAL,CAAWG,MAAX,CAAkBG,UAAzB;AACH;AACD;;;AACe,YAAXC,WAAW,GAAW;AACtB,iBAAO,KAAKP,KAAL,CAAWG,MAAX,CAAkBI,WAAzB;AACH;AAED;;;AACY,YAARC,QAAQ,GAAkB;AAC1B,iBAAO,KAAKR,KAAL,CAAWQ,QAAX,CAAoBC,IAApB,IAA4B,CAAC,IAAD,CAAnC;AACH;AACD;;;AACoB,YAAhBC,gBAAgB,GAAW;AAC3B,iBAAO,KAAKV,KAAL,CAAWQ,QAAX,CAAoBG,IAApB,CAAyBC,IAAzB,IAAiC,eAAxC;AACH;AACD;;;AACuB,YAAnBC,mBAAmB,GAAW;AAC9B,iBAAO,KAAKb,KAAL,CAAWQ,QAAX,CAAoBG,IAApB,CAAyBG,OAAzB,IAAoC,kBAA3C;AACH;AACD;;;AACmB,YAAfC,eAAe,GAAW;AAC1B,iBAAO,KAAKf,KAAL,CAAWQ,QAAX,CAAoBQ,OAApB,IAA+B,IAAtC;AACH;AAED;;;AACgB,YAAZC,YAAY,GAAW;AACvB,iBAAO,KAAKjB,KAAL,CAAWkB,MAAX,CAAkBC,MAAzB;AACH;AACD;;;AACgB,YAAZC,YAAY,GAAW;AACvB,iBAAO,KAAKpB,KAAL,CAAWkB,MAAX,CAAkBG,MAAzB;AACH;AACD;;;AACc,YAAVC,UAAU,GAAW;AACrB,iBAAO,KAAKtB,KAAL,CAAWkB,MAAX,CAAkBK,IAAzB;AACH;AACD;;;AACiB,YAAbC,aAAa,GAAW;AACxB,iBAAO,KAAKxB,KAAL,CAAWkB,MAAX,CAAkBnB,OAAzB;AACH;AAED;;;AACqB,YAAjB0B,iBAAiB,GAAW;AAC5B,iBAAO,KAAKzB,KAAL,CAAWG,MAAX,CAAkBsB,iBAAlB,IAAuC,IAA9C;AACH;;AAGD;AACQ,YAAJC,IAAI,GAAQ;AACZ,iBAAO,KAAK1B,KAAZ;AACH;;AAED2B,QAAAA,WAAW,CAACxB,MAAD,EAAc;AAAA,eANRH,KAMQ,GANK,IAML;AACrB,eAAKA,KAAL,GAAa4B,MAAM,CAACC,MAAP,CAAc1B,MAAM,CAACS,IAArB,CAAb;AAEA;AAAA;AAAA,4BAAKkB,GAAL,CAASC,SAAT,CAAmB,KAAK/B,KAAxB,EAA+B,MAA/B;AACH;;AA/EmB,O","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2021-07-03 16:13:17\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2023-02-14 14:27:22\r\n */\r\n\r\nimport { oops } from \"../../core/Oops\";\r\n\r\n/* 游戏配置解析，对应 resources/config/config.json 配置 */\r\nexport class GameConfig {\r\n    /** 客户端版本号配置 */\r\n    get version(): string {\r\n        return this._data[\"config\"][\"version\"];\r\n    }\r\n    /** 包名 */\r\n    get package(): string {\r\n        return this._data[\"config\"][\"package\"];\r\n    }\r\n    /** 游戏每秒传输帧数 */\r\n    get frameRate(): number {\r\n        return this._data.config.frameRate;\r\n    }\r\n    /** 本地存储内容加密 key */\r\n    get localDataKey(): string {\r\n        return this._data.config.localDataKey;\r\n    }\r\n    /** 本地存储内容加密 iv */\r\n    get localDataIv(): string {\r\n        return this._data.config.localDataIv;\r\n    }\r\n    /** Http 服务器地址 */\r\n    get httpServer(): string {\r\n        return this._data.config.httpServer;\r\n    }\r\n    /** Http 请求超时时间 */\r\n    get httpTimeout(): number {\r\n        return this._data.config.httpTimeout;\r\n    }\r\n\r\n    /** 获取当前客户端支持的语言类型 */\r\n    get language(): Array<string> {\r\n        return this._data.language.type || [\"zh\"];\r\n    }\r\n    /** 获取当前客户端支持的语言 Json 配置路径 */\r\n    get languagePathJson(): string {\r\n        return this._data.language.path.json || \"language/json\";\r\n    }\r\n    /** 获取当前客户端支持的语言纹理配置路径 */\r\n    get languagePathTexture(): string {\r\n        return this._data.language.path.texture || \"language/texture\";\r\n    }\r\n    /** 默认语言 */\r\n    get languageDefault(): string {\r\n        return this._data.language.default || \"zh\";\r\n    }\r\n\r\n    /** 是否启用远程资源 */\r\n    get bundleEnable(): string {\r\n        return this._data.bundle.enable;\r\n    }\r\n    /** 远程资源服务器地址 */\r\n    get bundleServer(): string {\r\n        return this._data.bundle.server;\r\n    }\r\n    /** 远程资源名 */\r\n    get bundleName(): string {\r\n        return this._data.bundle.name;\r\n    }\r\n    /** 远程资源版本号 */\r\n    get bundleVersion(): string {\r\n        return this._data.bundle.version;\r\n    }\r\n\r\n    /** 加载界面资源超时提示 */\r\n    get loadingTimeoutGui(): number {\r\n        return this._data.config.loadingTimeoutGui || 1000;\r\n    }\r\n\r\n    private readonly _data: any = null;\r\n    /** 游戏配置数据 */\r\n    get data(): any {\r\n        return this._data;\r\n    }\r\n\r\n    constructor(config: any) {\r\n        this._data = Object.freeze(config.json);\r\n\r\n        oops.log.logConfig(this._data, \"游戏配置\");\r\n    }\r\n}"]}